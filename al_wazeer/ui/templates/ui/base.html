{% load i18n %}
<!doctype html>
<html lang="en" data-theme="dracula">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% translate 'Al-Wazeer' %}{% endblock %}</title>
    <!-- Styles -->
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5.0.0/themes.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"
    />

    <style>
      body {
        font-family: "Noto Sans";
      }
    </style>

    {% block head %}{% endblock %}
  </head>

  <body class="flex h-dvh bg-base-300 overflow-hidden">
    <!-- Nav -->
    <section class="h-full z-20 {% block nav_styles %}{% endblock %}">
      <header class="h-full">
        <nav
          class="menu menu-vertical h-full items-center justify-between gap-4"
        >
          <ul class="menu menu-vertical items-center gap-1 p-0 lg:gap-2">
            <li
              class="tooltip tooltip-right tooltip-primary"
              data-tip="{% translate 'Al-Wazeer' %}"
            >
              <a
                href="{% url 'al-wazeer:index' %}"
                class="btn btn-square btn-primary lg:btn-lg"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-brain-circuit lg:size-8"
                >
                  <path
                    d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"
                  />
                  <path d="M9 13a4.5 4.5 0 0 0 3-4" />
                  <path d="M6.003 5.125A3 3 0 0 0 6.401 6.5" />
                  <path d="M3.477 10.896a4 4 0 0 1 .585-.396" />
                  <path d="M6 18a4 4 0 0 1-1.967-.516" />
                  <path d="M12 13h4" />
                  <path d="M12 18h6a2 2 0 0 1 2 2v1" />
                  <path d="M12 8h8" />
                  <path d="M16 8V5a2 2 0 0 1 2-2" />
                  <circle cx="16" cy="13" r=".5" />
                  <circle cx="18" cy="3" r=".5" />
                  <circle cx="20" cy="21" r=".5" />
                  <circle cx="20" cy="8" r=".5" />
                </svg>

                <span class="sr-only">{% translate 'Al-Wazeer' %}</span>
              </a>
            </li>
            <li class="tooltip tooltip-right" data-tip="{% translate 'Home' %}">
              {% url 'al-wazeer:index' as index %}
              <a
                href="{{ index }}"
                class="btn btn-md btn-square {% if request.path == index %}btn-soft btn-primary{% else %}btn-ghost{% endif %} lg:btn-md"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-house size-5 lg:size-6"
                >
                  <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8" />
                  <path
                    d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                  />
                </svg>

                <span class="sr-only">{% translate 'Home' %}</span>
              </a>
            </li>
            <!-- prettier ignore -->
            {% if request.user.is_staff %}
            <li
              class="tooltip tooltip-right"
              data-tip="{% translate 'Assistants' %}"
            >
              {% url 'al-wazeer:assistants' as assistants %}
              <a
                href="{{ assistants }}"
                class="btn btn-sm btn-square {% if request.path == assistants %}btn-soft btn-primary {% else %}btn-ghost{% endif %} lg:btn-md"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-bot-message-square size-5 lg:size-6"
                >
                  <path d="M12 6V2H8" />
                  <path
                    d="m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z"
                  />
                  <path d="M2 12h2" />
                  <path d="M9 11v2" />
                  <path d="M15 11v2" />
                  <path d="M20 12h2" />
                </svg>

                <span class="sr-only">{% translate 'Assistants' %}</span>
              </a>
            </li>
            <!-- prettier ignore -->
            {% endif %}
            <li
              class="tooltip tooltip-right"
              data-tip="{% translate 'Chats' %}"
            >
              {% url 'al-wazeer:chats' as chats %}
              <a
                href="{{ chats }}"
                class="btn btn-sm btn-square {% if request.path == chats %}btn-soft btn-primary {% else %}btn-ghost{% endif %} lg:btn-md"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-messages-square size-5 lg:size-6"
                >
                  <path
                    d="M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"
                  />
                  <path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1" />
                </svg>

                <span class="sr-only">{% translate 'Chats' %}</span>
              </a>
            </li>
            <li
              class="tooltip tooltip-right"
              data-tip="{% translate 'New chat' %}"
            >
              {% url 'al-wazeer:create-chat' as new %}
              <a
                href="{{ new }}"
                class="btn btn-md btn-square {% if request.path == new %}btn-soft btn-primary {% else %}btn-ghost{% endif %} lg:btn-md"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-circle-plus size-5 lg:size-6"
                >
                  <circle cx="12" cy="12" r="10" />
                  <path d="M8 12h8" />
                  <path d="M12 8v8" />
                </svg>

                <span class="sr-only">{% translate 'New chat' %}</span>
              </a>
            </li>
            <li
              class="tooltip tooltip-right"
              data-tip="{% translate 'Search' %}"
            >
              <button class="btn btn-square btn-ghost">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-search size-5 lg:size-6"
                >
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.3-4.3" />
                </svg>

                <span class="sr-only">{% translate 'Search' %}</span>
              </button>
            </li>
          </ul>

          <ul class="menu menu-vertical items-center gap-1 p-0 lg:gap-2">
            <li
              class="tooltip tooltip-right"
              data-tip="{% translate 'Settings' %}"
            >
              <button class="btn btn-square btn-ghost">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-bolt size-5 lg:size-6"
                >
                  <path
                    d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                  />
                  <circle cx="12" cy="12" r="4" />
                </svg>

                <span class="sr-only">{% translate 'Settings' %}</span>
              </button>
            </li>
            <!-- prettier ignore -->
            {% include 'ui/components/theme.html' %}
            <li
              class="tooltip tooltip-right tooltip-accent"
              data-tip="{% translate 'Profile' %}"
            >
              {% url 'al-wazeer:profile' as profile %}
              <button
                popovertarget="profile"
                style="anchor-name: --profile-anchor"
                class="btn btn-md btn-square {% if request.path == profile %}btn-soft btn-primary {% else %}btn-ghost{% endif %} lg:btn-md"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-user size-5 lg:size-6"
                >
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>

                <span class="sr-only">{% translate 'Profile' %}</span>
              </button>

              <ul
                class="menu dropdown dropdown-top dropdown-right w-32 overflow-y-auto rounded-box bg-base-100 shadow-sm"
                popover
                id="profile"
                style="position-anchor: --profile-anchor"
              >
                <li class="menu-title">Profile</li>
                <li>
                  <a href="{{ profile }}" class="flex items-center gap-4">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-circle-user size-4 lg:size-5"
                    >
                      <circle cx="12" cy="12" r="10" />
                      <circle cx="12" cy="10" r="3" />
                      <path
                        d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"
                      />
                    </svg>
                    <span> Profile </span>
                  </a>
                </li>
                <!-- prettier ignore -->
                {% if request.user.is_authenticated %}
                <li>
                  <form
                    id="logout-form"
                    class="hidden"
                    action="{% url 'al-wazeer:logout' %}"
                    method="post"
                  >
                    {% csrf_token %}
                  </form>

                  <button
                    type="submit"
                    form="logout-form"
                    class="flex items-center gap-4"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-log-out size-4 lg:size-5"
                    >
                      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                      <polyline points="16 17 21 12 16 7" />
                      <line x1="21" x2="9" y1="12" y2="12" />
                    </svg>

                    <span> Logout </span>
                  </button>
                </li>

                <!-- prettier ignore -->
                {% else %}
                <li>
                  <a
                    href="{% url 'al-wazeer:login' %}"
                    class="flex items-center gap-4"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-log-in size-4 lg:size-5"
                    >
                      <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
                      <polyline points="10 17 15 12 10 7" />
                      <line x1="15" x2="3" y1="12" y2="12" />
                    </svg>
                    <span> Login </span>
                  </a>
                </li>
                <!-- prettier ignore -->
                {% endif %}
              </ul>
            </li>
          </ul>
        </nav>
      </header>
    </section>

    <!-- Main content -->
    <main class="relative flex h-dvh w-full flex-col gap-4 p-1 lg:p-2 lg:pl-0">
      {% block main %}
      <div class="grid h-full w-full grid-cols-12 rounded-box bg-base-100">
        <!-- Sidebar -->
        <section
          class="col-span-12 h-full max-h-dvh pb-4 lg:col-span-3 lg:h-full{% block sidebar_styles %}{% endblock %}"
        >
          {% block sidebar %}{% endblock %}
        </section>

        <!-- Content -->
        <section
          class="col-span-12 h-full max-h-dvh pb-4 lg:col-span-9 lg:h-full{% block content_styles %}{% endblock %}"
        >
          {% block content %}{% endblock %}
        </section>
      </div>
      {% endblock %}
    </main>

    {% block scripts %}{% endblock %}
  </body>
</html>
